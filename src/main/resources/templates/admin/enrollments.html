<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment Management</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>

<body class="bg-gray-50">
    <!-- Main Container -->
    <div class="flex min-h-screen">
        <div th:replace="~{layout/adminSidebar :: sidebar}"></div>

        <!-- Main Content -->
        <main class="flex-1">
            <!-- Top Bar -->
            <header class="bg-white shadow-sm border-b px-8 py-4">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">Admin Dashboard</h1>
                        <p class="text-gray-600">Welcome back, Administrator</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <a href="/logout" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                            Logout
                        </a>
                    </div>
                </div>
            </header>

            <section class="max-w-7xl mx-auto px-6 mt-10">

                <!-- ===== TITLE & ACTION ===== -->
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-semibold">Enrollment Management</h1>

                    <a href="/admin/enrollments/create"
                       class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 flex items-center">
                        <i class="fas fa-plus mr-2"></i>
                        Assign Enrollment
                    </a>
                </div>

                <!-- ===== ENROLLMENT TABLE ===== -->
                <div class="bg-white rounded-lg shadow overflow-x-auto">

                    <table class="w-full text-sm">
                        <thead class="bg-gray-100 border-b">
                            <tr class="text-left">
                                <th class="px-4 py-3">ID</th>
                                <th class="px-4 py-3">Student</th>
                                <th class="px-4 py-3">Course</th>
                                <th class="px-4 py-3">Date</th>
                                <th class="px-4 py-3 text-center">Actions</th>
                            </tr>
                        </thead>

                        <tbody>
                            <!-- ===== ENROLLMENT ROW ===== -->
                            <tr th:each="e : ${enrollments}" class="border-b hover:bg-gray-50">

                                <!-- ID -->
                                <td class="px-4 py-3" th:text="${e.id}">1</td>

                                <!-- Student Name -->
                                <td class="px-4 py-3 font-medium" th:text="${e.studentName}">Student Name</td>

                                <!-- Course Name -->
                                <td class="px-4 py-3" th:text="${e.courseName}">Course Name</td>

                                <!-- Date -->
                                <td class="px-4 py-3 text-gray-600">
                                    <span th:if="${e.enrollmentDate}" th:text="${#temporals.format(e.enrollmentDate, 'MMM dd, yyyy')}">Jan 01, 2024</span>
                                    <span th:unless="${e.enrollmentDate}">-</span>
                                </td>

                                <!-- ACTIONS -->
                                <td class="px-4 py-3 text-center">
                                    <form th:action="@{/admin/enrollments/delete/{id}(id=${e.id})}"
                                          method="post"
                                          class="inline"
                                          onsubmit="return confirm('Are you sure you want to remove this enrollment?');">
                                        <button type="submit"
                                                class="px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600">
                                            Remove
                                        </button>
                                    </form>
                                </td>

                            </tr>

                            <!-- EMPTY STATE -->
                            <tr th:if="${enrollments == null || enrollments.isEmpty()}">
                                <td colspan="5" class="text-center py-12">
                                    <div class="flex flex-col items-center justify-center text-gray-400">
                                        <i class="fas fa-inbox text-6xl mb-4"></i>
                                        <p class="text-lg font-medium text-gray-600">No enrollments found</p>
                                    </div>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>

            </section>
        </main>
    </div>
</body>
</html>